<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Musiq Studio</title>

        <!-- Pi SDK-->
         <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    </head>
    <body>
        <h1>&#127925; Welcome to Musiq Studio</h1>
        <!-- Login Section-->
         <button onclick="login()">Login with Pi</button>
        <p id="user-info"></p>

        <script>
            // Initialize Pi SDK
            Pi.init({ version: "2.0"});
            async function login() {
                try {
                    const scopes = ['username']; // request username
                    const user = await Pi.authenticate(scopes, onIncompletePaymentFound);

                    // Display username after login
                    document.getElementById("user-info").innerText =
                    "Welcome, " + username + "&#127926;";
                } catch (err) {
                    console.error("Login error:", err);
                }
            }

            //Handle incomple payments (required by Pi)
            function onIncompletePaymentFound(payment) {
                console.log("Incomplete payment found:", payment);
            }
        </script>
    </body>
</html>
